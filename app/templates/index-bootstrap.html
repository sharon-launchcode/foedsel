{% extends "base-bootstrap.html" %}
{% block content %}
	<main id="main" role="main">

		<section class="jumbotron text-center">
			<div class="container">
				<h1 class="jumbotron-heading">Foedsel</h1>
				<div id="ui_group" class="btn-group">
						<button id="pushing" class="btn btn-primary">Pushing</button>
						<button id="headOut" class="btn btn-info disabled">Head out</button>
						<button id="babyOut" class="btn btn-info disabled">Baby out</button>
				</div>
				<div id="logdata">
					<h2 id="appendHere" class="jumbotron-heading">Log</h2>
				</div>
			</div>
		</section>

	</main>
{% endblock %}
{% block scripts %}
	<!-- Inline Script -->
	<script>
		"use strict";

		$(document).ready(function() {
			$("#pushing").on("click", startPushing);

			var pushingDate;
			function startPushing(event) {
				event.preventDefault(); // boilerplate, but why?
				$("#pushing").off("click", startPushing) // disable ASAP
					.addClass("btn btn-info disabled")
					.removeClass("btn-primary");

				pushingDate = new Date();
				var pushingString = pushingDate.toString();
				console.log(pushingString+ " pushing_handler()");
				$("#logdata").append("Pushing: " + pushingString + "<br />");

				// prepare next button
				$("#headOut").addClass("btn-primary")
					.removeClass("btn-info disabled")
					.on("click", headOut);
			}

			var headOutDate;
			function headOut(event) {
				event.preventDefault(); // incantations
				$("#headOut").off("click", headOut) // disable ASAP
					.addClass("btn btn-info disabled")
					.removeClass("btn-primary");

				headOutDate = new Date();
				var headOutString = headOutDate.toString();
				console.log(headOutString + " headOut_handler()");
				$("#logdata").append("Head out: " + headOutString + "<br />");

				// TODO -- set up 30-second reminders

				// prepare next button
				$("#babyOut").addClass("btn-primary")
					.removeClass("btn-info disabled")
					.on("click", babyOut);
			}

			var babyOutDate;
			function babyOut(event) {
				event.preventDefault();
				$("#babyOut").off("click", babyOut) // disable ASAP
					.addClass("btn btn-info disabled")
					.removeClass("btn-primary");

				babyOutDate = new Date();
				var babyOutString = babyOutDate.toString();
				console.log(babyOutString + " babyOut_handler()");
				$("#logdata").append("Baby out: " + babyOutString + "<br />");

				// TODO -- set up 30-second reminders
			}
		});
	</script>
{% endblock %}